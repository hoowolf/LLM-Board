<!DOCTYPE html>
<html lang="zh-CN" style="height: 100%">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI æ¨¡å‹æ€§èƒ½å¯¹æ¯”</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    .custom-select {
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 0.5rem center;
      background-size: 1.5em 1.5em;
      padding-right: 2.5rem;
    }
    .leaderboard {
      margin: 20px;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .leaderboard select {
      margin-bottom: 15px;
      padding: 5px;
    }

    .leaderboard table {
      width: 100%;
      border-collapse: collapse;
    }

    .leaderboard th,
    .leaderboard td {
      padding: 10px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    .leaderboard th {
      background-color: #f5f5f5;
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">
  <div class="container mx-auto px-4 py-8 flex-grow">
    <h1 class="text-3xl font-bold mb-6 text-center text-gray-800">AI æ¨¡å‹æ€§èƒ½å¯¹æ¯”</h1>
    
    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
      <h2 class="text-xl font-semibold mb-4 text-gray-700">è¯„ä¼°ä»»åŠ¡è¯´æ˜</h2>
      <p class="mb-4 text-gray-600"><strong>é€šè¿‡ä»¥ä¸‹ä»»åŠ¡çš„è¡¨ç°æµ‹è¯„æ¨¡å‹çš„èƒ½åŠ›ï¼šçŸ¥è¯†æµ‹è¯• (ğŸ“š)ã€çŸ­æœŸå’Œé•¿æœŸä¸Šä¸‹æ–‡æ¨ç† (ğŸ’­)ã€å¤æ‚æ•°å­¦èƒ½åŠ›ä»¥åŠä¸äººç±»åå¥½é«˜åº¦ç›¸å…³çš„ä»»åŠ¡ (ğŸ¤)ï¼Œå¦‚æŒ‡ä»¤éµå¾ª</strong></p>
      <ul class="space-y-4 text-gray-700">
        <li><strong>ğŸ¤ IFEval:</strong> IFEval æµ‹è¯•æ¨¡å‹æ¸…æ™°éµå¾ªæ˜ç¡®æŒ‡ä»¤çš„èƒ½åŠ›ï¼Œä¾‹å¦‚"åŒ…æ‹¬å…³é”®è¯ x"æˆ–"ä½¿ç”¨æ ¼å¼ y"ã€‚æ¨¡å‹è¢«æµ‹è¯•æ˜¯å¦èƒ½å¤Ÿä¸¥æ ¼éµå¾ªæ ¼å¼æŒ‡ä»¤ï¼Œè€Œä¸æ˜¯å®é™…ç”Ÿæˆçš„å†…å®¹ï¼Œä»è€Œå¯ä»¥ä½¿ç”¨ä¸¥æ ¼çš„æŒ‡æ ‡ã€‚</li>
        <li><strong>ğŸ§® ğŸ¤ BBH:</strong> BBH æ˜¯ BigBench æ•°æ®é›†ä¸­ 23 ä¸ªå…·æœ‰æŒ‘æˆ˜æ€§çš„ä»»åŠ¡çš„å­é›†ï¼ŒåŒ…å«å¤šæ­¥ç®—æœ¯å’Œç®—æ³•æ¨ç†ã€è¯­è¨€ç†è§£å’Œä¸€äº›ä¸–ç•ŒçŸ¥è¯†ã€‚BBH çš„è¡¨ç°å¹³å‡ä¸äººç±»åå¥½é«˜åº¦ç›¸å…³ã€‚</li>
        <li><strong>ğŸ§® MATH:</strong> MATH æ˜¯ä¸€ä¸ªç”±å¤šä¸ªæ¥æºæ”¶é›†çš„é«˜ä¸­çº§åˆ«ç«èµ›é—®é¢˜çš„æ±‡ç¼–ï¼Œä½¿ç”¨ Latex ä¸€è‡´åœ°æ ¼å¼åŒ–æ–¹ç¨‹å’Œ Asymptote æ ¼å¼åŒ–å›¾å½¢ã€‚æˆ‘ä»¬åªä¿ç•™æœ€éš¾çš„é—®é¢˜ã€‚</li>
        <li><strong>ğŸ“š GPQA:</strong> GPQA æ˜¯ä¸€ä¸ªæå…¶å›°éš¾çš„çŸ¥è¯†æ•°æ®é›†ï¼Œå…¶ä¸­é—®é¢˜ç”±é¢†åŸŸä¸“å®¶è®¾è®¡ï¼Œä½¿å¾—å¤–è¡Œäººéš¾ä»¥å›ç­”ä½†ä¸“å®¶ç›¸å¯¹å®¹æ˜“ã€‚é—®é¢˜ç»è¿‡å¤šè½®éªŒè¯ï¼Œä»¥ç¡®ä¿éš¾åº¦å’Œå‡†ç¡®æ€§ã€‚</li>
        <li><strong>ğŸ’­ MuSR:</strong> MuSR æ˜¯ä¸€ä¸ªç”±ç®—æ³•ç”Ÿæˆçš„å¤æ‚é—®é¢˜ç»„æˆçš„æ•°æ®é›†ï¼Œé•¿åº¦çº¦ä¸º 1000 å­—ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæ¨¡å‹å¿…é¡»ç»“åˆæ¨ç†å’Œéå¸¸é•¿çš„ä¸Šä¸‹æ–‡è§£æã€‚</li>
        <li><strong>ğŸ“š MMLU-Pro:</strong> MMLU-Pro æ˜¯ MMLU æ•°æ®é›†çš„æ”¹è¿›ç‰ˆæœ¬ã€‚å®ƒå‘æ¨¡å‹æä¾›åä¸ªé€‰æ‹©è€Œä¸æ˜¯å››ä¸ªï¼Œè¦æ±‚åœ¨æ›´å¤šé—®é¢˜ä¸Šè¿›è¡Œæ¨ç†ï¼Œå¹¶ç»è¿‡ä¸“å®¶å®¡æŸ¥ä»¥å‡å°‘å™ªéŸ³é‡ã€‚å®ƒæ¯”åŸç‰ˆè´¨é‡æ›´é«˜ä¸”æ›´éš¾ã€‚</li>
      </ul>
      <div class="mt-4 text-sm text-gray-500">
        <p>æ•°æ®æ¥æº: <a href="https://huggingface.co/datasets/open-llm-leaderboard/contents" target="_blank" class="text-blue-500 hover:underline">https://huggingface.co/datasets/open-llm-leaderboard/contents</a></p>
        <p>è¯¦ç»†è¯´æ˜ï¼š<a href="https://blog.csdn.net/HuggingFace/article/details/140002475" target="_blank" class="text-blue-500 hover:underline">https://blog.csdn.net/HuggingFace/article/details/140002475</a></p>
      </div>
    </div>

    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
        <div>
          <label for="root-select" class="block text-sm font-medium text-gray-700 mb-1">é€‰æ‹©ç»„ç»‡:</label>
          <select id="root-select" onchange="updateSubSelect()" class="custom-select block w-full mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
            <option value="">è¯·é€‰æ‹©</option>
          </select>
        </div>
        <div>
          <label for="sub-select" class="block text-sm font-medium text-gray-700 mb-1">é€‰æ‹©æ¨¡å‹:</label>
          <select id="sub-select" onchange="updateChart()" class="custom-select block w-full mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
            <option value="">è¯·é€‰æ‹©</option>
          </select>
        </div>
        <div>
          <label for="root-select2" class="block text-sm font-medium text-gray-700 mb-1">é€‰æ‹©ç»„ç»‡:</label>
          <select id="root-select2" onchange="updateSubSelect2()" class="custom-select block w-full mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
            <option value="">è¯·é€‰æ‹©</option>
          </select>
        </div>
        <div>
          <label for="sub-select2" class="block text-sm font-medium text-gray-700 mb-1">é€‰æ‹©æ¨¡å‹:</label>
          <select id="sub-select2" onchange="updateChart()" class="custom-select block w-full mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
            <option value="">è¯·é€‰æ‹©</option>
          </select>
        </div>
      </div>
      <div id="container" class="w-full h-96 mb-8"></div>
      <div id="barChart1" class="w-full h-64 mb-8"></div>
      <div id="barChart2" class="w-full h-64"></div>
    </div>

    <div class="leaderboard">
      <h2>æ¨¡å‹æ’è¡Œæ¦œ</h2>
      <select id="metricSelector" onchange="updateLeaderboard()">
          <option value="IFEval">IFEval</option>
          <option value="BBH">BBH</option>
          <option value="MATH Lvl 5">MATH Lvl 5</option>
          <option value="GPQA">GPQA</option>
          <option value="MUSR">MUSR</option>
          <option value="MMLU-PRO">MMLU-PRO</option>
          <option value="Average â¬†ï¸" selected>Average â¬†ï¸</option>
      </select>

      <table>
          <thead>
              <tr>
                  <th>æ’å</th>
                  <th>æ¨¡å‹åç§°</th>
                  <th>åˆ†æ•°</th>
              </tr>
          </thead>
          <tbody id="leaderboardBody">
          </tbody>
      </table>
    </div>
  </div>

  <script type="text/javascript" src="https://registry.npmmirror.com/echarts/5.5.1/files/dist/echarts.min.js"></script>
  <script type="text/javascript">
    var dom = document.getElementById('container');
    var myChart = echarts.init(dom, null, {
      renderer: 'canvas',
      useDirtyRect: false
    });
    var barChart1 = echarts.init(document.getElementById('barChart1'));
    var barChart2 = echarts.init(document.getElementById('barChart2'));
    var app = {};
    
    var option;

    option = {
      title: {
        text: 'æ¨¡å‹æ€§èƒ½å¯¹æ¯”é›·è¾¾å›¾'
      },
      legend: {
        data: []
      },
      radar: {
        indicator: [
          { name: 'IFEval', max: 90 },
          { name: 'BBH', max: 65 },
          { name: 'MATH Lvl 5', max: 55 },
          { name: 'GPQA', max: 25 },
          { name: 'MUSR', max: 40 },
          { name: 'MMLU-PRO', max: 75 }
        ]
      },
      series: [
        {
          name: 'æ¨¡å‹å¯¹æ¯”',
          type: 'radar',
          data: []
        }
      ]
    };

    if (option && typeof option === 'object') {
      myChart.setOption(option);
    }

    window.addEventListener('resize', function() {
      myChart.resize();
      barChart1.resize();
      barChart2.resize();
    });

    // Fetch JSON data
    fetch('./source/content.json')
      .then(response => response.json())
      .then(data => {
        populateRootSelect(data);
        populateRootSelect2(data);
        jsonData = data; // Store the data globally
        updateLeaderboard(); // Initial leaderboard update
      });

    function populateRootSelect(data) {
      const rootSelect = document.getElementById('root-select');
      for (const root in data) {
        const option = document.createElement('option');
        option.value = root;
        option.textContent = root;
        rootSelect.appendChild(option);
      }
    }

    function populateRootSelect2(data) {
      const rootSelect2 = document.getElementById('root-select2');
      for (const root in data) {
        const option = document.createElement('option');
        option.value = root;
        option.textContent = root;
        rootSelect2.appendChild(option);
      }
    }

    function updateSubSelect() {
      const rootSelect = document.getElementById('root-select');
      const subSelect = document.getElementById('sub-select');
      const root = rootSelect.value;
      subSelect.innerHTML = '<option value="">è¯·é€‰æ‹©</option>';
      if (root) {
        fetch('./source/content.json')
          .then(response => response.json())
          .then(data => {
            for (const sub in data[root]) {
              const option = document.createElement('option');
              option.value = sub;
              option.textContent = sub;
              subSelect.appendChild(option);
            }
          });
      }
    }

    function updateSubSelect2() {
      const rootSelect2 = document.getElementById('root-select2');
      const subSelect2 = document.getElementById('sub-select2');
      const root = rootSelect2.value;
      subSelect2.innerHTML = '<option value="">è¯·é€‰æ‹©</option>';
      if (root) {
        fetch('./source/content.json')
          .then(response => response.json())
          .then(data => {
            for (const sub in data[root]) {
              const option = document.createElement('option');
              option.value = sub;
              option.textContent = sub;
              subSelect2.appendChild(option);
            }
          });
      }
    }

    function updateChart() {
      const subSelect = document.getElementById('sub-select');
      const subSelect2 = document.getElementById('sub-select2');
      const sub = subSelect.value;
      const sub2 = subSelect2.value;
      if (sub && sub2) {
        fetch('./source/content.json')
          .then(response => response.json())
          .then(data => {
            const root = document.getElementById('root-select').value;
            const root2 = document.getElementById('root-select2').value;
            const item = data[root][sub];
            const item2 = data[root2][sub2];
            const newData = [
              {
                value: [
                  item.IFEval,
                  item.BBH,
                  item['MATH Lvl 5'],
                  item.GPQA,
                  item.MUSR,
                  item['MMLU-PRO']
                ],
                name: item.name
              },
              {
                value: [
                  item2.IFEval,
                  item2.BBH,
                  item2['MATH Lvl 5'],
                  item2.GPQA,
                  item2.MUSR,
                  item2['MMLU-PRO']
                ],
                name: item2.name
              }
            ];
            option.legend.data = [item.name, item2.name];
            option.series[0].data = newData;
            myChart.setOption(option);

            // Update bar charts
            updateBarChart(barChart1, item);
            updateBarChart(barChart2, item2);
          });
      }
    }

    function updateBarChart(chart, data) {
      const barOption = {
        title: {
          text: data.name + ' æ€§èƒ½æŒ‡æ ‡'
        },
        tooltip: {
          trigger: 'axis',
          axisPointer: {
            type: 'shadow'
          }
        },
        xAxis: {
          type: 'category',
          data: ['IFEval', 'BBH', 'MATH Lvl 5', 'GPQA', 'MUSR', 'MMLU-PRO']
        },
        yAxis: {
          type: 'value'
        },
        series: [{
          data: [
            {value: data.IFEval.toFixed(2), itemStyle: {color: '#ff9999'}},
            {value: data.BBH.toFixed(2), itemStyle: {color: '#66b3ff'}},
            {value: data['MATH Lvl 5'].toFixed(2), itemStyle: {color: '#99ff99'}},
            {value: data.GPQA.toFixed(2), itemStyle: {color: '#ffcc99'}},
            {value: data.MUSR.toFixed(2), itemStyle: {color: '#ff99cc'}},
            {value: data['MMLU-PRO'].toFixed(2), itemStyle: {color: '#99ccff'}}
          ],
          type: 'bar',
          label: {
            show: true,
            position: 'top',
            formatter: '{c}'
          }
        }]
      };
      chart.setOption(barOption);
    }

    function updateLeaderboard() {
      const metric = document.getElementById('metricSelector').value;
      const models = [];
      
      // ä» JSON ä¸­æå–æ•°æ®
      for (const group in jsonData) {
        for (const model in jsonData[group]) {
          models.push({
            name: model,
            score: jsonData[group][model][metric]
          });
        }
      }

      // æ’åºå¹¶è·å–å‰10å
      const topModels = models
        .sort((a, b) => b.score - a.score)
        .slice(0, 10);

      // æ›´æ–°è¡¨æ ¼
      const tbody = document.getElementById('leaderboardBody');
      tbody.innerHTML = '';
      
      topModels.forEach((model, index) => {
        const row = tbody.insertRow();
        row.className = index % 2 === 0 ? 'bg-gray-50' : 'bg-white';
        
        const rankCell = row.insertCell(0);
        rankCell.className = 'px-6 py-4 whitespace-nowrap text-sm text-gray-500';
        rankCell.textContent = index + 1;
        
        const nameCell = row.insertCell(1);
        nameCell.className = 'px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900';
        nameCell.textContent = model.name;
        
        const scoreCell = row.insertCell(2);
        scoreCell.className = 'px-6 py-4 whitespace-nowrap text-sm text-gray-500';
        scoreCell.textContent = model.score.toFixed(2);
      });
    }
  </script>
</body>
</html>

